<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows 10 Pro</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-image: url('mountains-4484178_1280.jpg');
            background-size: cover;
            transition: background-color 0.3s;
        }

        .start-menu {
            position: fixed;
            bottom: 40px;
            left: 0;
            width: 300px;
            height: 400px;
            background-color: #2d2d2d;
            color: white;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 1000;
            overflow-y: auto;
            border-radius: 10px;
            transition: transform 0.3s;
            animation: fadeIn 2s;
        }

        .taskbar {
            position: fixed;
            bottom: 0;
            width: 100%;
            height: 40px;
            background-color: #333;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 10px;
            z-index: 1000;
            border-top: 1px solid #444;
        }

        .start-button {
            background-color: #0078d7;
            color: white;
            border: none;
            padding: 5px 5px;
            cursor: pointer;
            border-radius: 5px;
            animation: fadeIn 1s;
            transform: scale(1);
        }
        
        .start-button:hover {
            transform: scale(1.05);
        }
        .taskbar .search-bar {
            flex: 1;
            margin: 0 10px;
            padding: 5px;
            border: none;
            border-radius: 5px;
        }

        .taskbar .icons {
            display: flex;
            gap: 10px;
        }

        .taskbar .icon {
            transform: scale(0.9);
            width: 30px;
            height: 30px;
            background-color: #444;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .taskbar .icon:hover {
            background-color: #555;
            transform: scale(1.1);
        }

        .app-window {
            position: absolute;
            top: 50px;
            left: 50px;
            z-index: 10;
            cursor: default;
            align-items: center;
            justify-content: center;
            position: fixed;
            width: 80%;
            height: 80%;
            background-color: white;
            border: 1px solid #ccc;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 999;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            overflow: auto;
            border-radius: 10px;
            transition: transform 0.3s;
            animation: fadeIn 0.3s;
        }
         .app-window.fullscreen {
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
            transform: none !important; /* Désactive le centrage */
            border-radius: 0 !important; /* Supprime l'arrondi */
            transition: none !important; /* Pas d'animation */
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .app-header {
            font-size: 23px;
            font-family: "Helvetica", "Arial", sans-serif;
            background-color: #0078d7;
            color: white;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            cursor: move;
        }
         .maximize-btn {
            padding: 3px;
            background-color: transparent;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 20px
        }
        .maximize-btn:hover {
            color: green;
            font-size: 25px;
        }

        .app-content {
            padding: 10px;
            align-items: center;
        }

        .close-btn {
            padding: 3px;
            background-color: transparent;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 20px;
        }
        .close-btn:hover {
          color: red;
          font-size: 25px;
        }

        .calc-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .calc-buttons button {
            padding: 10px;
            font-size: 18px;
            border-radius: 5px;
        }

        .word-doc {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
        }

        .web-browser .address-bar {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-bottom: 10px;
            border-radius: 5px;
        }

        .web-browser iframe {
            padding: 2px;
            width: 100%;
            height: 60vh;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .dark-mode {
            background-color: #031149;
            color: white;
        }

        .dark-mode .start-menu {
            background-color: #333;
        }

        .dark-mode .taskbar {
            background-color: #222;
        }

        .dark-mode .taskbar .icon {
            background-color: #444;
        }

        .dark-mode .app-window {
            background-color: #222;
            color: white;
        }

        .dark-mode .app-header {
            background-color: #0056b3;
        }

        .dark-mode .word-doc {
            border-color: #555;
        }

        .dark-mode .web-browser .address-bar {
            border-color: #555;
        }

        .dark-mode .web-browser iframe {
            border-color: #555;
        }
        .browser-button {
          font-family: "Helvetica", "Arial", sans-serif;
          background-color: white;
          border: 1px, black;
          border-radius: 5px;
        }
        .start-menu-item {
          font-family: "Helvetica", "Arial", sans-serif;
          font-size: 15px;
          background-color: none;
          transform: scale(1);
        }
        .start-menu-item:hover{
          transition: background-color 0.3s;
          transform: scale(1.05);
        }
        .mail-container {
            font-size: 15px;
            font-family: "Helvetica", "Arial", sans-serif;
            flex: 1;
            margin: 0 10px;
            padding: 5px;
            border: 0.5px, black;
            border-radius: 5px;
        }
        .mail-button {
          background-color: white;
          border: 1px, black;
          border-radius: 5px;
        }
         #browser .address-bar {
        width: 100%;
    }
    #browser iframe {
        width: 100%;
        height: 60vh;
    }
    #opal iframe {
      width: 100%;
      height: 60vh;
    }
    </style>
</head>
<body>
    <div class="start-menu" id="startMenu">
        <img src="logo.png" alt="Start Menu" width="50" height="50">
        <ul class="list-group">
            <li class="start-menu-item" onclick="openApp('fileExplorer')">
                <img src="dossiers.png" alt="File Explorer" width="20" height="20"> File Explorer
            </li>
            <li class="start-menu-item" onclick="openApp('settings')">
                <img src="parametres.png" alt="Settings" width="20" height="20"> Settings
            </li>
            <li class="start-menu-item" onclick="openApp('calculator')">
                <img src="math.png" alt="Calculator" width="20" height="20"> Calculator
            </li>
            <li class="start-menu-item" onclick="openApp('notepad')">
            <img src="bloc-notes.png" alt="Notepad" width="20" height="20"> Notepad
            </li>
            <li class="start-menu-item" onclick="openApp('word')">
                <img src="mot.png" alt="Word" width="20" height="20"> Word
            </li>
            <li class="start-menu-item" onclick="openApp('excel')">
                <img src="tableur.png" alt="Excel" width="20" height="20"> Excel
            </li>
            <li class="start-menu-item" onclick="openApp('browser')">
                <img src="microsoft.png" alt="Browser" width="20" height="20"> Browser
            </li>
            <li class="start-menu-item" onclick="openApp('gallery')">
                <img src="photos.png" alt="Gallery" width="20" height="20"> Gallery
            </li>
            <li class="start-menu-item" onclick="openApp('email')">
                <img src="e-mail.png" alt="Email" width="20" height="20"> Email
            </li>
            <li class="start-menu-item" onclick="openApp('opal')">
              <img src="Opal-modified.png" alt="Opal assistant" width="20" height="20">  Opal assistant
            </li>
            <li class="start-menu-item" onclick="openApp('credits')">
                <img src="creator.png" alt="Crédits" width="20" height="20"> Crédits
            </li>
        </ul>
    </div>
    <div class="taskbar">
        <button class="start-button btn btn-primary" onclick="toggleStartMenu()"> <img src="logo.png" alt="Start" width="20" height="20"></button>
        <input type="text" placeholder="Search" class="search-bar form-control">
        <div class="icons">
            <div class="icon" onclick="openApp('fileExplorer')">
                <img src="dossiers.png" alt="File Explorer" width="20" height="20">
            </div>
            <div class="icon" onclick="openApp('settings')">
                <img src="parametres.png" alt="Settings" width="20" height="20">
            </div>
            <div class="icon" onclick="openApp('calculator')">
                <img src="math.png" alt="Calculator" width="20" height="20">
            </div>
            <div class="icon" onclick="openApp('notepad')">
                <img src="bloc-notes.png" alt="Notepad" width="20" height="20">
            </div>
            <div class="icon" onclick="openApp('word')">
                <img src="mot.png" alt="Word" width="20" height="20">
            </div>
            <div class="icon" onclick="openApp('excel')">
                <img src="tableur.png" alt="Excel" width="20" height="20">
            </div>
            <div class="icon" onclick="openApp('browser')">
                <img src="microsoft.png" alt="Browser" width="20" height="20">
            </div>
            <div class="icon" onclick="openApp('gallery')">
                <img src="photos.png" alt="Gallery" width="20" height="20">
            </div>
            <div class="icon" onclick="openApp('email')">
                <img src="e-mail.png" alt="Email" width="20" height="20">
            </div>
            <div class="icon" onclick="openApp('opal')">
              <img src="Opal-modified.png" alt="Opal" width="20" height="20">
            </div>
            <div class="icon" onclick="openApp('credits')">
                <img src="creator.png" alt="Crédits" width="20" height="20">
            </div>
            <!-- Add more icons here -->
        </div>
    </div>

    <div class="app-window" id="fileExplorer">
        <div class="app-header">
            <span><img src="dossiers.png" width="20" height="20">     File Explorer (not implemented yet)</span>
            <button class="maximize-btn" onclick="toggleFullscreenWindow('fileExplorer')">()</button>
            <button class="close-btn" onclick="closeApp('fileExplorer')">x</button>
        </div>
        <div class="app-content">
            <!-- File Explorer content -->
            <ul class="list-group">
                <li class="list-group-item">File 1</li>
                <li class="list-group-item">File 2</li>
                <li class="list-group-item">File 3</li>
            </ul>
        </div>
    </div>

    <div class="app-window" id="settings">
        <div class="app-header">
            <span><img src="parametres.png" width="20" height="20">    Settings</span>
            <button class="close-btn" onclick="closeApp('settings')">x</button>
        </div>
        <div class="app-content">
            <!-- Settings content -->
            <form>
                <div class="form-group">
                    <label for="theme">Theme</label>
                    <select class="form-control" id="theme" onchange="toggleTheme()">
                        <option value="light">Light</option>
                        <option value="dark">Dark</option>
                    </select>
                </div>
                <!-- Add more settings here -->
                <div class="form-group">
                  <label for="powermax">Enable PowerMax</label>
                  <select class="form-control" id="powermax">
                    <option value="enabled">Enabled</option>
                    <option value="disabled">Disabled</option>
                  </select>
                </div>
            </form>
        </div>
    </div>

    <div class="app-window" id="calculator">
        <div class="app-header">
            <span><img src="math.png" width="20" height="20">    Calculator</span>
            <button class="close-btn" onclick="closeApp('calculator')">x</button>
        </div>
        <div class="app-content">
            <!-- Calculator content -->
            <input type="text" class="form-control" id="calcDisplay" readonly>
            <div class="calc-buttons">
                <button class="btn btn-secondary" onclick="calcInput('7')">7</button>
                <button class="btn btn-secondary" onclick="calcInput('8')">8</button>
                <button class="btn btn-secondary" onclick="calcInput('9')">9</button>
                <button class="btn btn-secondary" onclick="calcInput('/')">/</button>
                <button class="btn btn-secondary" onclick="calcInput('4')">4</button>
                <button class="btn btn-secondary" onclick="calcInput('5')">5</button>
                <button class="btn btn-secondary" onclick="calcInput('6')">6</button>
                <button class="btn btn-secondary" onclick="calcInput('*')">*</button>
                <button class="btn btn-secondary" onclick="calcInput('1')">1</button>
                <button class="btn btn-secondary" onclick="calcInput('2')">2</button>
                <button class="btn btn-secondary" onclick="calcInput('3')">3</button>
                <button class="btn btn-secondary" onclick="calcInput('-')">-</button>
                <button class="btn btn-secondary" onclick="calcInput('0')">0</button>
                <button class="btn btn-secondary" onclick="calcInput('.')">.</button>
                <button class="btn btn-secondary" onclick="calcInput('=')">=</button>
                <button class="btn btn-secondary" onclick="calcInput('+')">+</button>
                <button class="btn btn-secondary" onclick="calcClear()">C</button>
                <button class="btn btn-primary" onclick="calcResult()">=</button>
            </div>
        </div>
    </div>

    <div class="app-window" id="notepad">
        <div class="app-header">
            <span><img src="bloc-notes.png" width="20" height="20">    Notepad</span>
            <button class="close-btn" onclick="closeApp('notepad')">x</button>
        </div>
        <div class="app-content">
            <!-- Notepad content -->
            <textarea class="form-control" rows="10"></textarea>
        </div>
    </div>

    <div class="app-window" id="word">
    <div class="app-header">
        <span><img src="mot.png" width="20" height="20"> Word</span>
        <button class="close-btn" onclick="closeApp('word')">x</button>
    </div>
    <div class="app-content">
        <div class="border border-gray-300 rounded-lg overflow-hidden">
            <div class="bg-gray-100 p-2 flex space-x-2">
                <button class="px-4 py-1 bg-blue-500 text-white rounded hover:bg-blue-600" onclick="document.execCommand('justifyLeft')">Gauche</button>
                <button class="px-4 py-1 bg-blue-500 text-white rounded hover:bg-blue-600" onclick="document.execCommand('justifyCenter')">Centré</button>
                <button class="px-4 py-1 bg-blue-500 text-white rounded hover:bg-blue-600" onclick="document.execCommand('justifyRight')">Droite</button>
                <button class="px-4 py-1 bg-blue-500 text-white rounded hover:bg-blue-600" onclick="document.execCommand('insertUnorderedList')">Liste</button>
                <button class="px-4 py-1 bg-blue-500 text-white rounded hover:bg-blue-600" onclick="document.execCommand('insertOrderedList')">Liste Ord.</button>
                <button class="px-4 py-1 bg-blue-500 text-white rounded hover:bg-blue-600" onclick="document.execCommand('createLink', false, prompt('URL :'))">Lien</button>
                <button class="px-4 py-1 bg-blue-500 text-white rounded hover:bg-blue-600" onclick="document.execCommand('unlink')">Ret. Lien</button>
                <button class="px-4 py-1 bg-blue-500 text-white rounded hover:bg-blue-600" onclick="document.execCommand('insertImage', false, prompt('URL de l’image :'))">Image</button>
                <button class="px-4 py-1 bg-red-500 text-white rounded hover:bg-red-600" onclick="document.getElementById('editor').innerHTML = ''; localStorage.removeItem('pandaWriterContent')">Effacer</button>
                <button class="px-4 py-1 bg-blue-500 text-white rounded hover:bg-blue-600" onclick="document.execCommand('bold')">Gras</button>
                <button class="px-4 py-1 bg-blue-500 text-white rounded hover:bg-blue-600" onclick="document.execCommand('italic')">Italique</button>
                <button class="px-4 py-1 bg-blue-500 text-white rounded hover:bg-blue-600" onclick="document.execCommand('underline')">Souligné</button>
            </div>
            <div id="editor" contenteditable="true" class="p-4 min-h-[300px] text-gray-800 focus:outline-none"></div>
        </div>
    </div>
</div>

<div class="app-window" id="excel">
    <div class="app-header">
        <span><img src="tableur.png" width="20" height="20">    Excel</span>
        <button class="close-btn" onclick="closeApp('excel')">x</button>
    </div>
    <div class="app-content overflow-auto">
        <table class="min-w-full border-collapse border border-gray-300">
            <thead>
                <tr>
                    <th class="border border-gray-300 bg-gray-100 p-2">#</th>
                    <th class="border border-gray-300 bg-gray-100 p-2">A</th>
                    <th class="border border-gray-300 bg-gray-100 p-2">B</th>
                    <th class="border border-gray-300 bg-gray-100 p-2">C</th>
                    <th class="border border-gray-300 bg-gray-100 p-2">D</th>
                    <th class="border border-gray-300 bg-gray-100 p-2">E</th>
                </tr>
            </thead>
            <tbody>
                <script>
                    for (let i = 1; i <= 10; i++) {
                        document.write('<tr>');
                        document.write(`<td class="border border-gray-300 bg-gray-100 p-2 text-center">${i}</td>`);
                        for (let j = 0; j < 5; j++) {
                            document.write('<td class="border border-gray-300 p-2"><input type="text" class="w-full p-1 focus:outline-none" /></td>');
                        }
                        document.write('</tr>');
                    }
                </script>
            </tbody>
        </table>
    </div>
</div>


<div class="app-window" id="browser">
    <div class="app-header">
        <span><img src="microsoft.png" width="20" height="20"> Edge Browser</span>
        <button class="close-btn" onclick="closeApp('browser')">x</button>
    </div>
    <div class="app-content space-y-4">
        <div class="flex space-x-2 items-center">
            <input type="text" class="address-bar w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" id="addressBar" placeholder="Surf the web...">
            <button class="browser-button px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors" onclick="loadPage()">Go</button>
        </div>
        <iframe id="browserFrame" class="w-full h-[60vh] border border-gray-300 rounded-lg"></iframe>
    </div>
</div>

    <div class="app-window" id="gallery">
        <div class="app-header">
            <span><img src="photos.png" width="20" height="20">    Gallery</span>
            <button class="close-btn" onclick="closeApp('gallery')">x</button>
        </div>
        <div class="app-content">
            <!-- Gallery content -->
            <div class="gallery-grid">
                <img src="hallstatt-2373191_1280.jpg" alt="Image 1" width="100" height="100">
                <img src="landscape-3127859_1280.jpg" alt="Image 2" width="100" height="100">
                <img src="mountains-4484178_1280.jpg" alt="Image 3" width="100" height="100">
                <!-- Add more images here -->
            </div>
        </div>
    </div>

    <div class="app-window" id="email">
        <div class="app-header">
            <span><img src="e-mail.png" width="20" height="20">    Email</span>
            <button class="close-btn" onclick="closeApp('email')">x</button>
        </div>
        <div class="app-content">
            <!-- Email content -->
            <form>
                <div class="form-group">
                    <input type="email" class="mail-container" id="to" placeholder="To...">
                </div>
                <div class="form-group">
                    <input type="text" class="mail-container" id="subject" placeholder="Subject...">
                </div>
                <div class="form-group">
                    <textarea class="mail-container" id="message" placeholder="Your message..." rows="5"></textarea>
                </div>
                <button type="submit" class="mail-button">Send mail</button>
                <button type="submit" class="mail-button">Delete message</button>
            </form>
        </div>
    </div>
    
    <div class="app-window" id="opal">
      <div class="app-header">
        <span><img src="Opal-modified.png" width="20" height="20">    Opal Assistant</span>
        <button class="close-btn" onclick="closeApp('opal')">x</button>
      </div>
      <div class="app-content">
        <!--Opal content -->
        <iframe id="opalFrame" src="https://arthur-lenoble.github.io/opal-1.0-Poet-IQ150/" class="w-full h-[60vh] border border-gray-300 rounded-lg"></iframe>
      </div>
    </div>
    <div class="app-window" id="credits">
        <div class="app-header">
            <span><img src="creator.png" width="20" height="20">    Crédits</span>
            <button class="close-btn" onclick="closeApp('credits')">x</button>
        </div>
        <div class="app-content">
            <h1>Crédits :</h1> 
            <h2>Création du système d'exploitation :</h2><p> Arthur Lenoble </p>
            <h2>Icône Opal :</h2><p> Arthur Lenoble/Opal AI </p>
            <h2>Icônes Flaticon :</h2><p> Smashicon, 
                              Freepik, 
                              Vectorsmarket15, 
                              Pocike, 
                              Pixel perfect, 
                              Slameticon, 
            </p>
        </div>
    </div>

    <script>
  function toggleFullscreenWindow(appId) {
    const appWindow = document.getElementById(appId);
    appWindow.classList.toggle('fullscreen');
    
    // Forcer le navigateur à recalculer la mise en page
    appWindow.offsetHeight; 
}

        
        document.querySelectorAll('.app-window').forEach(window => {
    const header = window.querySelector('.app-header');
    let offsetX = 0, offsetY = 0, isDragging = false;

    header.addEventListener('mousedown', (e) => {
        isDragging = true;
        offsetX = e.clientX - window.offsetLeft;
        offsetY = e.clientY - window.offsetTop;
        window.style.zIndex = 1000; // Passe au premier plan
    });

    document.addEventListener('mousemove', (e) => {
        if (isDragging) {
            window.style.left = `${e.clientX - offsetX}px`;
            window.style.top = `${e.clientY - offsetY}px`;
        }
    });

    document.addEventListener('mouseup', () => {
        isDragging = false;
        window.style.zIndex = 10; // Remet à la normale
    });
});

       const editorElement = document.getElementById('editor');
    editorElement.addEventListener('input', () => {
        localStorage.setItem('pandaWriterContent', editorElement.innerHTML);
    });
    document.addEventListener('DOMContentLoaded', () => {
        const savedContent = localStorage.getItem('pandaWriterContent');
        if (savedContent) editorElement.innerHTML = savedContent;
    });
        function toggleStartMenu() {
            const startMenu = document.getElementById('startMenu');
            startMenu.style.display = startMenu.style.display === 'none' ? 'block' : 'none';
        }

        function openApp(appId) {
            const app = document.getElementById(appId);
            app.style.display = 'block';
        }

        function closeApp(appId) {
            const app = document.getElementById(appId);
            app.style.display = 'none';
        }

        let calcDisplay = document.getElementById('calcDisplay');
        let calcExpression = '';

        function calcInput(value) {
            calcExpression += value;
            calcDisplay.value = calcExpression;
        }

        function calcResult() {
            try {
                calcDisplay.value = eval(calcExpression);
                calcExpression = calcDisplay.value;
            } catch (e) {
                calcDisplay.value = 'Error';
                calcExpression = '';
            }
        }

        function calcClear() {
            calcExpression = '';
            calcDisplay.value = '';
        }

        function loadPage() {
            const addressBar = document.getElementById('addressBar');
            const browserFrame = document.getElementById('browserFrame');
            browserFrame.src = addressBar.value;
        }

        function toggleTheme() {
            const theme = document.getElementById('theme').value;
            document.body.classList.toggle('dark-mode', theme === 'dark');
        }
    </script>
</body>
</html>
